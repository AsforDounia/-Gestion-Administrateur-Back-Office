<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="tailwinsScript/script.js"></script>
	<link rel="stylesheet" href="css/style.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
	
	

	<!-- <script src="https://cdn.tailwindcss.com"></script> -->
	<title>Document</title>
</head>
<body class="bg-gray-100">
    <div class="flex min-h-screen">
        <aside class="w-64 bg-[#143095] text-white">
            <div class="p-4 text-lg font-semibold text-center">Admin Dashboard</div>
            <nav class="mt-5">
                <ul>
                    <li>
                        <li>
                            <a href="admin.html" class="flex items-center p-4 hover:bg-gray-700">
                                <span class="material-icons">dashboard</span>
                                <span class="ml-2">Dashboard</span>
                            </a>
                        </li>
                       </li>
                    <li>
                        <a href="Résultats.html" class="flex items-center p-4 hover:bg-gray-700">
                            <span class="material-icons">people</span>
                            <span class="ml-2">Users</span>
                        </a>
                    </li>
                    <li>
                        <a href="edite.html" class="flex items-center bg-gray-700 p-4 hover:bg-gray-700">
                            <span class="material-icons">settings</span>
                            <span class="ml-2">Settings</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center p-4 hover:bg-gray-700" onclick="logout()">
                            <span class="material-icons">logout</span>
                            <span class="ml-2">Logout</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <div class="flex-1 p-8">
            <!-- Display Questions -->
            <div id="questionsContainer" class="space-y-4">
                <!-- Questions will be displayed here -->
            </div>

            <!-- Add/Edit Buttons -->
            <div class="mt-8">
                <button class="bg-blue-500 text-white px-4 py-2 rounded" onclick="openQuestionForm()">Add New Question</button>
            </div>

            <!-- Modal for Adding/Editing Questions -->
            <div id="questionModal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center">
                <div class="bg-white rounded-lg p-6 w-96">
                    <h2 id="modalTitle" class="text-lg font-semibold mb-4">Add/Edit Question</h2>
                    <form id="questionForm">
                        <textarea id="question" class="border border-gray-300 rounded-lg w-full px-3 py-2 text-gray-700 mb-4" placeholder="Enter your question here"></textarea>
                        <select id="category" class="border border-gray-300 rounded-lg w-full px-3 py-2 text-gray-700 mb-4">
                            <option value="Vocabulaire">Vocabulaire</option>
                            <option value="Grammaire">Grammaire</option>
                            <option value="Compréhension">Compréhension</option>
                        </select>
                        <div class="flex justify-end space-x-2">
                            <button type="button" class="bg-gray-500 text-white px-4 py-2 rounded" onclick="closeModal()">Cancel</button>
                            <button type="button" class="bg-blue-500 text-white px-4 py-2 rounded" onclick="saveQuestion()">Save</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Notification Container -->
            <div id="notification" class="hidden fixed bottom-4 right-4 bg-blue-500 text-white p-4 rounded-lg shadow-lg">
                <span id="notificationText"></span>
            </div>
        </div>
    </div>




    <script>
        // Initial Sample Questions
        let questions = [
            { id: 1, text: "What is the definition of vocabulary?", category: "Vocabulaire", level: "A1" },
            { id: 2, text: "Explain the basics of grammar rules.", category: "Grammaire", level: "A2" },
            { id: 3, text: "How do you comprehend a passage?", category: "Compréhension", level: "B1" }
        ];

        let editId = null;

        // Function to render questions
        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = ''; // Clear the container
            questions.forEach(question => {
                const questionDiv = document.createElement('div');
                questionDiv.classList.add('bg-white', 'p-4', 'rounded-lg', 'shadow-lg');
                questionDiv.innerHTML = `
                    <p><strong>Question:</strong> ${question.text}</p>
                    <p><strong>Category:</strong> ${question.category}</p>
                    <p><strong>Level:</strong> ${question.level}</p>
                    <button class="bg-yellow-500 text-white px-4 py-1 rounded mt-2" onclick="editQuestion(${question.id})">Edit</button>
                    <button class="bg-red-500 text-white px-4 py-1 rounded mt-2 ml-2" onclick="deleteQuestion(${question.id})">Delete</button>
                `;
                container.appendChild(questionDiv);
            });
        }

        function openQuestionForm() {
            document.getElementById('questionForm').reset();
            document.getElementById('modalTitle').textContent = 'Add New Question';
            editId = null; // Reset edit ID
            document.getElementById('questionModal').classList.remove('hidden');
        }

        function editQuestion(id) {
            editId = id;
            const question = questions.find(q => q.id === id);
            document.getElementById('question').value = question.text;
            document.getElementById('category').value = question.category;
            document.getElementById('modalTitle').textContent = 'Edit Question';
            document.getElementById('questionModal').classList.remove('hidden');
        }

        function deleteQuestion(id) {
            questions = questions.filter(q => q.id !== id);
            showNotification("Question deleted successfully");
            renderQuestions();
        }

        function saveQuestion() {
            const questionText = document.getElementById('question').value;
            const category = document.getElementById('category').value;
            const newQuestion = { id: Date.now(), text: questionText, category: category, level: "A1" };

            if (editId) {
                const question = questions.find(q => q.id === editId);
                question.text = questionText;
                question.category = category;
                showNotification("Question updated successfully");
            } else {
                questions.push(newQuestion);
                showNotification("Question added successfully");
            }

            closeModal();
            renderQuestions();
        }

        function closeModal() {
            document.getElementById('questionModal').classList.add('hidden');
        }

        function showNotification(message) {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            notificationText.textContent = message;
            notification.classList.remove('hidden');

            setTimeout(() => {
                notification.classList.add('hidden');
            }, 3000);
        }

        // Initial render
        renderQuestions();

        function logout() {
            console.log("Logout function called");
            localStorage.removeItem('user');
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
     
    <!-- Material Icons for icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="js/script.js"></script>
    <script>
        function logout() {
            console.log("Logout function called"); // This will log to the console
            localStorage.removeItem('user'); // Adjust the key as necessary
            window.location.href = 'index.html'; // Change 'login.html' to your login page URL
        }
    </script>
</body>
</html>